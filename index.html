<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SciLabs - Sistema LIMS</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    /* Fondo con imagen difuminada */
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      color: #333;
      position: relative;
      min-height: 100vh;
      overflow-x: hidden;
      background: #f4f7fa;
      z-index: 0;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: url('https://centromedicoabc.com/storage/2023/08/shutterstock_1028408488.webp') no-repeat center center/cover;
      filter: blur(8px) brightness(0.5);
      z-index: -1;
      pointer-events: none;
    }

    /* Contenedores principales */
    #login-register, #main-content {
      max-width: 400px;
      margin: 4rem auto;
      background: rgba(255,255,255,0.95);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 2px 15px rgba(0,0,0,0.15);
      position: relative;
      z-index: 1;
    }
    #main-content {
      max-width: 900px;
      display: none;
      margin-top: 2rem;
    }

    /* Formularios */
    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    label {
      font-weight: bold;
    }
    input[type="text"], input[type="email"], input[type="password"], input[type="date"] {
      padding: 0.6rem;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      padding: 0.7rem;
      background: #003366;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #005599;
    }

    /* Links para cambiar entre login/registro */
    .switch-form {
      text-align: center;
      margin-top: 1rem;
    }
    .switch-form button {
      background: none;
      color: #005599;
      border: none;
      cursor: pointer;
      font-weight: bold;
      text-decoration: underline;
      padding: 0;
    }

    /* Mensajes de error */
    .error-msg {
      color: #cc0000;
      font-size: 0.9rem;
    }

    /* Header y nav */
    header {
      background-color: #003366;
      color: white;
      padding: 1rem 2rem;
      text-align: center;
      border-radius: 12px 12px 0 0;
    }
    nav {
      background-color: #005599;
      display: flex;
      justify-content: center;
      gap: 2rem;
      padding: 1rem;
      border-radius: 0 0 12px 12px;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }
    nav a:hover {
      text-decoration: underline;
    }

    /* Secciones */
    section {
      padding: 2rem;
      background: rgba(255,255,255,0.95);
      margin-bottom: 2rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h2, h3 {
      color: #003366;
      margin-top: 0;
    }

    /* Cards para servicios */
    .servicios {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    }
    .card {
      background-color: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
    }

    /* Tabla muestras */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.5rem 0.7rem;
      text-align: left;
    }
    thead {
      background-color: #005599;
      color: white;
    }

  </style>
</head>
<body>

  <!-- LOGIN / REGISTRO -->
  <div id="login-register">
    <!-- Login -->
    <div id="login-form">
      <h2>Iniciar Sesión</h2>
      <form>
        <label for="login-email">Correo electrónico:</label>
        <input type="email" id="login-email" required />
        <label for="login-password">Contraseña:</label>
        <input type="password" id="login-password" required />
        <button type="submit">Ingresar</button>
      </form>
      <div class="switch-form">
        ¿No tienes cuenta? <button id="show-register">Regístrate</button>
      </div>
      <p class="error-msg" id="login-error"></p>
    </div>

    <!-- Registro -->
    <div id="register-form" style="display:none;">
      <h2>Registro</h2>
      <form>
        <label for="register-email">Correo electrónico:</label>
        <input type="email" id="register-email" required />
        <label for="register-password">Contraseña:</label>
        <input type="password" id="register-password" required />
        <label for="register-password2">Repetir Contraseña:</label>
        <input type="password" id="register-password2" required />
        <button type="submit">Registrarse</button>
      </form>
      <div class="switch-form">
        ¿Ya tienes cuenta? <button id="show-login">Iniciar Sesión</button>
      </div>
      <p class="error-msg" id="register-error"></p>
    </div>
  </div>

  <!-- CONTENIDO PRINCIPAL -->
  <div id="main-content" style="display:none;">
    <header>
      <h1><i class="fa-solid fa-flask-vial"></i> SciLabs</h1>
      <p>Sistema LIMS para laboratorios clínicos modernos</p>
    </header>

    <nav>
      <a href="#inicio" class="nav-link">Inicio</a>
      <a href="#servicios" class="nav-link">Servicios</a>
      <a href="#gestion" class="nav-link">Gestión de Laboratorio</a>
      <a href="#nosotros" class="nav-link">Nosotros</a>
      <a href="#contacto" class="nav-link">Contacto</a>
      <a href="#" id="logout" style="color:#ff5555;">Cerrar Sesión</a>
    </nav>

    <section id="inicio">
      <h2>Bienvenido a SciLabs</h2>
      <p>SciLabs es una plataforma LIMS (Laboratory Information Management System) diseñada para optimizar la gestión de muestras, resultados y control de calidad en laboratorios clínicos.</p>
    </section>

    <section id="servicios" class="servicios">
      <div class="card">
        <i class="fa-solid fa-vial fa-2x"></i>
        <h3>Gestión de Muestras</h3>
        <p>Registra y controla cada muestra con trazabilidad completa.</p>
      </div>
      <div class="card">
        <i class="fa-solid fa-file-medical fa-2x"></i>
        <h3>Resultados Online</h3>
        <p>Entrega de resultados a pacientes y profesionales en línea.</p>
      </div>
      <div class="card">
        <i class="fa-solid fa-shield-virus fa-2x"></i>
        <h3>Control de Calidad</h3>
        <p>Supervisa y audita cada etapa del análisis clínico.</p>
      </div>
      <div class="card">
        <i class="fa-solid fa-user-doctor fa-2x"></i>
        <h3>Acceso Profesional</h3>
        <p>Plataforma segura para médicos, técnicos y bioquímicos.</p>
      </div>
    </section>

    <section id="gestion">
      <h2>Gestión de Laboratorio</h2>
      <h3>Ingresar Nueva Muestra</h3>
      <form id="form-muestra">
        <label for="id-muestra">ID de Muestra:</label>
        <input type="text" id="id-muestra" placeholder="Ej: M12345" required />
        
        <label for="tipo-muestra">Tipo de Muestra:</label>
        <input type="text" id="tipo-muestra" placeholder="Ej: Sangre" required />
        
        <label for="fecha-muestra">Fecha de Recolección:</label>
        <input type="date" id="fecha-muestra" required />
        
        <button type="submit">Agregar Muestra</button>
      </form>

      <h3>Muestras Registradas</h3>
      <table id="tabla-muestras">
        <thead>
          <tr>
            <th>ID Muestra</th>
            <th>Tipo</th>
            <th>Fecha Recolección</th>
          </tr>
        </thead>
        <tbody>
          <!-- Filas se generan aquí -->
        </tbody>
      </table>
    </section>

    <section id="nosotros">
      <h2>Nosotros</h2>
      <p>En SciLabs buscamos digitalizar y modernizar los procesos de los laboratorios clínicos con soluciones eficientes, seguras y fáciles de usar.</p>
    </section>

    <section id="contacto">
      <h2>Contacto</h2>
      <p>¿Tienes dudas o quieres más información? Escríbenos a: <strong>contacto@scilabs.cl</strong></p>
    </section>

    <footer style="text-align:center; margin-top: 2rem; color:#555;">
      <p>&copy; 2025 SciLabs. Todos los derechos reservados.</p>
    </footer>
  </div>

  <script>
    // Cambiar entre login y registro
    const loginFormDiv = document.getElementById('login-form');
    const registerFormDiv = document.getElementById('register-form');
    const showRegisterBtn = document.getElementById('show-register');
    const showLoginBtn = document.getElementById('show-login');
    const loginRegisterDiv = document.getElementById('login-register');
    const mainContentDiv = document.getElementById('main-content');

    showRegisterBtn.addEventListener('click', () => {
      loginFormDiv.style.display = 'none';
      registerFormDiv.style.display = 'block';
      clearErrors();
    });
    showLoginBtn.addEventListener('click', () => {
      registerFormDiv.style.display = 'none';
      loginFormDiv.style.display = 'block';
      clearErrors();
    });

    // Manejo básico de usuarios (en memoria)
    let usuarios = [];

    // Login
    loginFormDiv.querySelector('form').addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim().toLowerCase();
      const pass = document.getElementById('login-password').value;

      const errorLogin = document.getElementById('login-error');

      const usuario = usuarios.find(u => u.email === email);
      if (!usuario) {
        errorLogin.textContent = 'Usuario no encontrado.';
        return;
      }
      if (usuario.password !== pass) {
        errorLogin.textContent = 'Contraseña incorrecta.';
        return;
      }

      errorLogin.textContent = '';
      entrarApp(email);
    });

    // Registro
    registerFormDiv.querySelector('form').addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('register-email').value.trim().toLowerCase();
      const pass = document.getElementById('register-password').value;
      const pass2 = document.getElementById('register-password2').value;
      const errorRegister = document.getElementById('register-error');

      if (!email || !pass || !pass2) {
        errorRegister.textContent = 'Por favor completa todos los campos.';
        return;
      }
      if (pass !== pass2) {
        errorRegister.textContent = 'Las contraseñas no coinciden.';
        return;
      }
      if (usuarios.find(u => u.email === email)) {
        errorRegister.textContent = 'El usuario ya existe.';
        return;
      }

      usuarios.push({ email, password: pass });
      errorRegister.textContent = '';
      alert('Registro exitoso! Ahora inicia sesión.');
      registerFormDiv.style.display = 'none';
      loginFormDiv.style.display = 'block';
    });

    function clearErrors() {
      document.getElementById('login-error').textContent = '';
      document.getElementById('register-error').textContent = '';
    }

    // Función para mostrar contenido tras login
    function entrarApp(email) {
      loginRegisterDiv.style.display = 'none';
      mainContentDiv.style.display = 'block';
      // Aquí podrías mostrar el usuario logueado si quieres
    }

    // Logout
    document.getElementById('logout').addEventListener('click', e => {
      e.preventDefault();
      if (confirm('¿Cerrar sesión?')) {
        mainContentDiv.style.display = 'none';
        loginRegisterDiv.style.display = 'block';
        // Limpiar inputs y tabla
        document.querySelectorAll('input').forEach(i => i.value = '');
        clearErrors();
        muestras = [];
        renderTabla();
      }
    });

    // --- Gestión de muestras ---
    const formMuestra = document.getElementById('form-muestra');
    const tablaMuestras = document.getElementById('tabla-muestras').querySelector('tbody');

    let muestras = [];

    formMuestra.addEventListener('submit', function(e) {
      e.preventDefault();

      const id = document.getElementById('id-muestra').value.trim();
      const tipo = document.getElementById('tipo-muestra').value.trim();
      const fecha = document.getElementById('fecha-muestra').value;

      if (!id || !tipo || !fecha) {
        alert('Por favor completa todos los campos');
        return;
      }

      muestras.push({ id, tipo, fecha });
      formMuestra.reset();
      renderTabla();
    });

    function renderTabla() {
      tablaMuestras.innerHTML = '';
      muestras.forEach(muestra => {
        const fila = document.createElement('tr');
        fila.innerHTML = `
          <td>${muestra.id}</td>
          <td>${muestra.tipo}</td>
          <td>${muestra.fecha}</td>
        `;
        tablaMuestras.appendChild(fila);
      });
    }

    // Navegación interna con scroll suave
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  </script>
</body>
</html>
